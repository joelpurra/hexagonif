!function t(e,i,o){function n(s,h){if(!i[s]){if(!e[s]){var a="function"==typeof require&&require;if(!h&&a)return a(s,!0);if(r)return r(s,!0);throw new Error("Cannot find module '"+s+"'")}var c=i[s]={exports:{}};e[s][0].call(c.exports,function(t){var i=e[s][1][t];return n(i?i:t)},c,c.exports,t,e,i,o)}return i[s].exports}for(var r="function"==typeof require&&require,s=0;s<o.length;s++)n(o[s]);return n}({1:[function(t,e,i){!function(){"use strict";function e(){var t=document.getElementById(L);return t}function i(){var t,e,i=document.getElementById(y);for(e=0;e<i.childElementCount;e++)i.removeChild(i.children[e]);return t=document.createElement("canvas"),t.id=L,i.insertBefore(t,i.children[0]),t}function o(){return 100}function n(){var t,e,n=i(),c=new r(n.scrollWidth,n.scrollHeight),l=o(),g=a.wrap("grapher",function(){return s(c,l)}),u=g(),d=new m(u),b=a.wrap("renderer",function(){return h(L,c,u)}),y=new f(n),S=new p(y),C=function(){function t(){e.isStarted()||e.start()}function i(){e.isStarted()&&e.stop()}y.listen("user.activity",function(){t()}),y.listen("user.inactivity",function(){i()}),S.start(),t()};t=b(),e=new v(t,d,y),C()}var r=t("./modules/objects/point.js"),s=(t("./modules/objects/line.js"),t("./modules/logic/grapher.js")),h=t("./modules/logic/renderer.js"),a=t("./modules/utils/profiling.js"),c=(t("./modules/utils/random.js"),t("./modules/utils/resize-detector.js")),l=t("./modules/utils/mouse-detector.js"),g=t("./modules/utils/once.js"),u=t("./modules/utils/one-at-a-time-please.js"),d=t("./modules/utils/delay.js"),f=t("./modules/logic/events.js"),p=t("./modules/logic/activity-monitor.js"),m=t("./modules/logic/graph-objects-tool.js"),v=t("./modules/logic/highlight-on-interval.js"),b=(window.Cowboy||$).debounce,L="hexagonif",y="hexagonif-container",S=u(n);l(g(S)),c(e(),b(1e3,d(S,100)))}()},{"./modules/logic/activity-monitor.js":2,"./modules/logic/events.js":3,"./modules/logic/graph-objects-tool.js":4,"./modules/logic/grapher.js":5,"./modules/logic/highlight-on-interval.js":6,"./modules/logic/renderer.js":7,"./modules/objects/line.js":13,"./modules/objects/point.js":14,"./modules/utils/delay.js":17,"./modules/utils/mouse-detector.js":19,"./modules/utils/once.js":20,"./modules/utils/one-at-a-time-please.js":21,"./modules/utils/profiling.js":22,"./modules/utils/random.js":23,"./modules/utils/resize-detector.js":24}],2:[function(t,e,i){function o(t,e){this.hexEvent=t,this.limitMilliseconds=e||6e4,this.checkingIntervalMilliseconds=Math.floor(this.limitMilliseconds/2),this.latestActivityTimestamp=null,this.activityInterval=null,this.isMonitorStarted=!1,this.isUserIsActive=!1}var n=(t("./events.js"),"user.activity"),r="user.inactivity";o.prototype.getTimestamp=function(){return(new Date).valueOf()},o.prototype.resetActivityInterval=function(){this.latestActivityTimestamp=this.getTimestamp()},o.prototype.startActivityInterval=function(){this.activityInterval=setInterval(this.checkActivityInterval.bind(this),this.checkingIntervalMilliseconds)},o.prototype.stopActivityInterval=function(){clearInterval(this.activityInterval),this.activityInterval=null},o.prototype.checkActivityInterval=function(){Math.abs(this.getTimestamp()-this.latestActivityTimestamp)>this.limitMilliseconds&&this.inactivityDetected()},o.prototype.activityDetected=function(){this.isUserIsActive=!0,this.resetActivityInterval(),null===this.activityInterval&&this.startActivityInterval(),this.hexEvent.fire(n)},o.prototype.inactivityDetected=function(){this.stopActivityInterval(),this.isUserIsActive=!1,this.hexEvent.fire(r)},o.prototype.isStarted=function(){return this.isMonitorStarted===!0},o.prototype.isUserIsActive=function(){return this.isUserIsActive===!0},o.prototype.start=function(){if(this.isStarted())throw new Error("Was already started.");this.resetActivityInterval(),this.startActivityInterval(),document.addEventListener("mousemove",this.activityDetected.bind(this))},o.prototype.stop=function(){if(this.isStarted())throw new Error("Was not started.");document.removeEventListener("mousemove",this.activityDetected.bind(this)),this.stopActivityInterval()},e.exports=o},{"./events.js":3}],3:[function(t,e,i){function o(t,e){this.canvasElement=t,this.namespacePrefix=e||"hexagonif."}o.prototype.getEventName=function(t){return this.namespacePrefix+t},o.prototype.fire=function(t,e,i){var o=document.createEvent("HTMLEvents"),n=this.getEventName(t);return o.initEvent(n,!0,!0),o.graphic=e,o.object=i,this.canvasElement.dispatchEvent(o)},o.prototype.listen=function(t,e){var i=this.getEventName(t);this.canvasElement.addEventListener(i,e)},o.prototype.cancel=function(t,e){var i=this.getEventName(t);this.canvasElement.removeEventListener(i,e)},e.exports=o},{}],4:[function(t,e,i){function o(t){this.graphObjects=t}var n=t("../utils/random.js");o.prototype.getRandomObject=function(t){var e=Object.keys(t),i=e.length,o=n.integer(0,i),r=e[o],s=t[r];return s},o.prototype.getRandomHexagon=function(){var t=this.getRandomObject(this.graphObjects.hexagons);return t},o.prototype.getRandomLine=function(){var t=this.getRandomObject(this.graphObjects.lines);return t},o.prototype.getRandomNode=function(){var t=this.getRandomObject(this.graphObjects.nodes);return t},e.exports=o},{"../utils/random.js":23}],5:[function(t,e,i){function o(t,e,i,o){var n=new u,r=i,s=o;do{var h=r.cacheKey,a=t.nodes[h];void 0===a?t.nodes[h]=r:r=a,n.setCornerPoint(s,r);var c=u.Corners.next(s),d=p(r.x-e*Math.cos(s.rad),5),f=p(r.y+e*Math.sin(s.rad),5),m=new l(d,f),v=new g(r,m),b=v.cacheKey,L=t.lines[b];void 0===L?t.lines[b]=v:v=L;var y=u.Sides.fromCorner(s);n.setSideLine(y,v),r=m,s=c}while(s.rotation!==o.rotation);var S=n.getCacheKey(),C=t.hexagons[S];if(void 0!==C){if(C.isComplete())return C;n=C}else t.hexagons[S]=n;return n}function n(t,e){return!!t.gonifs[e.cacheKey]}function r(t,e,i,r){var s=r.start,h=o(t,e,i,s),a=new d(h);if(n(t,a))throw new Error("Gonif generation collision.");return t.gonifs[a.cacheKey]=a,a}function s(t){for(var e=u.Sides.all();side=e.shift();){var i=t.getNeighbor(side);if(i){var o=d.Neighbors.getSharedNeighborDirections(side);o.forEach(function(o){var n=i.getNeighbor(o.fromNeighbor);n&&t.getNeighbor(o.fromHere)!==n&&(t.setNeighbor(o.fromHere,n),n.setNeighbor(u.Sides.opposite(o.fromHere),t),e.push(o.fromHere))})}}}function h(t,e,i,o,n){n=[].concat(n);var h,a,c=0,l=n[c],g=o.hexagon.getCornerPoint(l.end).point;do h=u.Sides.opposite(l),g=o.hexagon.getCornerPoint(l.end).point,a=r(e,i,g,h),o.setNeighbor(l,a),a.setNeighbor(h,o),s(a),c=(c+1)%n.length,l=n[c],o=a;while(t.isInside(g))}function a(t,e,i){var o=new f(new l(0-i,0-i),new l(t.x+i,t.y+i)),n=new l(t.x/2,t.y/2),s=n,a=r(e,i,s,u.Sides.Bottom),c=a;h(o,e,i,c,[u.Sides.BottomRight,u.Sides.TopRight]),h(o,e,i,c,[u.Sides.BottomLeft,u.Sides.TopLeft]);do h(o,e,i,c,u.Sides.Top),h(o,e,i,c,u.Sides.Bottom),c=c.getNeighbor(u.Sides.BottomRight)||c.getNeighbor(u.Sides.TopRight);while(c);if(c=a.getNeighbor(u.Sides.BottomLeft)||a.getNeighbor(u.Sides.TopLeft))do h(o,e,i,c,u.Sides.Top),h(o,e,i,c,u.Sides.Bottom),c=c.getNeighbor(u.Sides.BottomLeft)||c.getNeighbor(u.Sides.TopLeft);while(c);return a}function c(t,e){var i={hexagons:{},nodes:{},lines:{},gonifs:{}},o=a(t,i,e),n={hexagons:i.hexagons,nodes:i.nodes,lines:i.lines,gonifs:i.gonifs,start:o};return n}var l=t("../objects/point.js"),g=t("../objects/line.js"),u=t("../objects/hexagon.js"),d=t("../objects/gonif.js"),f=t("../objects/area.js"),p=t("../utils/limit-precision.js");t("../utils/random.js");e.exports=c},{"../objects/area.js":8,"../objects/gonif.js":11,"../objects/hexagon.js":12,"../objects/line.js":13,"../objects/point.js":14,"../utils/limit-precision.js":18,"../utils/random.js":23}],6:[function(t,e,i){function o(t,e,i){this.scene=t,this.graphObjectsTool=e,this.hexEvent=i,this.isHighlighterStarted=!1,this.highlightCounter=0,this.highlightCounterInterval=null,this.isAutomatedHighlight=!1,this.highlightInterval=null,this.highlightMilliseconds=1e3,this.unhighlightAfterMilliseconds=500,this.boundListeners={hexagonifLineHighlightEventListener:this.hexagonifLineHighlightEventListener.bind(this),hexagonifLineUnhighlightEventListener:this.hexagonifLineUnhighlightEventListener.bind(this),highlightCounterDecreaser:this.highlightCounterDecreaser.bind(this),highlightSomethingThatIfNothingHasHappened:this.highlightSomethingThatIfNothingHasHappened.bind(this)}}var n=10,r=t("../utils/random.js");o.prototype.highlightCounterDecreaser=function(){this.highlightCounter=Math.max(0,this.highlightCounter-1)},o.prototype.resetRandomLine=function(){var t=this.graphObjectsTool.getRandomLine();this.scene.resetLine(t)},o.prototype.highlightRandomLine=function(){var t=this.graphObjectsTool.getRandomLine();this.isAutomatedHighlight=!0,this.scene.highlightLine(t),this.isAutomatedHighlight=!1,setTimeout(function(){this.scene.unhighlightLine(t)}.bind(this),this.unhighlightAfterMilliseconds)},o.prototype.highlightRandomHexagon=function(){var t;do t=this.graphObjectsTool.getRandomHexagon();while(!t.isComplete());this.isAutomatedHighlight=!0,this.scene.highlightHexagon(t),this.isAutomatedHighlight=!1,setTimeout(function(){this.scene.unhighlightHexagon(t)}.bind(this),this.unhighlightAfterMilliseconds)},o.prototype.highlightSomethingThatIfNothingHasHappened=function(){var t=r.integer(10);0===this.highlightCounter&&(2>t?this.resetRandomLine():9>t?this.highlightRandomLine():this.highlightRandomHexagon())},o.prototype.hexagonifLineHighlightEventListener=function(){this.isAutomatedHighlight||(this.highlightCounter=Math.min(Number.MAX_VALUE-1,this.highlightCounter+1,n))},o.prototype.hexagonifLineUnhighlightEventListener=function(){},o.prototype.isStarted=function(){return 1==this.isHighlighterStarted},o.prototype.start=function(){if(this.isStarted())throw new Error("Was started.");this.isHighlighterStarted=!0,this.hexEvent.listen("line.highlight",this.boundListeners.hexagonifLineHighlightEventListener),this.hexEvent.listen("line.unhighlight",this.boundListeners.hexagonifLineUnhighlightEventListener),this.highlightCounterInterval=setInterval(this.boundListeners.highlightCounterDecreaser,this.highlightMilliseconds),this.highlightInterval=setInterval(this.boundListeners.highlightSomethingThatIfNothingHasHappened,this.highlightMilliseconds)},o.prototype.stop=function(){if(!this.isStarted())throw new Error("Was not started.");this.hexEvent.cancel("line.highlight",this.boundListeners.hexagonifLineHighlightEventListener),this.hexEvent.cancel("line.unhighlight",this.boundListeners.hexagonifLineUnhighlightEventListener),clearInterval(this.highlightCounterInterval),clearInterval(this.highlightInterval),this.isHighlighterStarted=!1},e.exports=o},{"../utils/random.js":23}],7:[function(t,e,i){function o(e,i,o){function n(){return C.integer(3,10)}function r(){return"transparent"}function s(){return"transparent"}function h(t,e,o){var n=Math.floor(t/i.x*20),r=Math.floor(e/i.y*360),s=o?.7:.3;return"hsla("+r+", "+(100-n/2)+"%, "+(60-n)+"%, "+s.toFixed(3)+")"}function a(t){u.call(this)}function c(t){d.call(this)}function l(t){L(this.tag.hexagon)}function g(){var t=w.fire("line.reset",this,this.tag);t.defaultPrevented||(this.strokeColor=r(),this.zIndex="back",this.redraw())}function u(){var t=w.fire("line.highlight",this,this.tag);t.defaultPrevented||(this.strokeColor=h(this.x,this.y,!0),this.zIndex="front",this.redraw())}function d(t){var e=w.fire("line.unhighlight",this,this.tag);e.defaultPrevented||(this.strokeColor=h(this.x,this.y,!1),this.redraw())}function f(t,e,i,o){var n=B.clone({start:{x:e.x,y:e.y},end:{x:i.x,y:i.y},tag:o});return t.add(n),n.bind("mouseenter touchenter",a).bind("mouseleave touchleave",c),n}function p(t,e,i,o){var n=E.clone({origin:{x:e.x,y:e.y},radius:i,tag:o});return t.add(n),n.bind("click tap",l),n}function m(t){var e=t.cacheKey,i=k[e];u.call(i)}function v(t){var e=t.cacheKey,i=k[e];g.call(i)}function b(t,e){var i,o=x.Sides.Top,n=o;do i=t.getSideLine(n),e(i.line),n=x.Sides.next(n);while(n!==o)}function L(t){b(t,m)}function y(t){b(t,S)}function S(t){var e=t.cacheKey,i=k[e];d.call(i)}var C=t("../utils/random.js"),x=t("../objects/hexagon.js"),j=t("./events.js"),R=document.getElementById(e);R.width=i.x,R.height=i.y;var w=new j(R),T=oCanvas.create({canvas:"#"+e}),k={},B=T.display.line({cap:"round",strokeWidth:n(),strokeColor:r()}),E=T.display.polygon({sides:6,fill:s(),strokeWidth:n(),strokeColor:r()}),H="grid";T.scenes.create(H,function(){var t=this;Object.keys(o.gonifs).forEach(function(e){var i=o.gonifs[e],n=i.hexagon.getCenter(),r={x:0-n.x,y:0-n.y},s=98,h=p(t,r,s,i);k[e]=h}),Object.keys(o.lines).forEach(function(e){var i=o.lines[e],n=f(t,i.start,i.end,i);k[e]=n})}),T.scenes.load(H);var I={resetLine:v,highlightLine:m,unhighlightLine:S,highlightHexagon:L,unhighlightHexagon:y};return I}e.exports=o},{"../objects/hexagon.js":12,"../utils/random.js":23,"./events.js":3}],8:[function(t,e,i){function o(t,e){return this.start=t,this.end=e,this.start.x<=this.end.x?(this.aX=this.start.x,this.bX=this.end.x):(this.aX=this.end.x,this.bX=this.start.x),this.start.y<=this.end.y?(this.aY=this.start.y,this.bY=this.end.y):(this.aY=this.end.y,this.bY=this.start.y),this}o.prototype.isInside=function(t){return!this.isOutside(t)},o.prototype.isOutside=function(t){var e=t.x<this.aX||t.x>this.bX||t.y<this.aY||t.y>this.bY;return e},e.exports=o},{}],9:[function(t,e,i){function o(t,e){return this.name=t,this.rotation=e,this}e.exports=o},{}],10:[function(t,e,i){function o(t,e){return this.corner=t,this.point=e,this}e.exports=o},{}],11:[function(t,e,i){function o(t){return this.cacheKey=r.integer(Number.MAX_VALUE),this.hexagon=t,this.neighbors={top:null,topRight:null,bottomRight:null,bottom:null,bottomLeft:null,topLeft:null},this}var n=t("./hexagon.js"),r=t("../utils/random.js");o.Neighbors={},o.Neighbors.getSharedNeighborDirections=function(t){var e;switch(t){case n.Sides.Top:e=[{fromNeighbor:n.Sides.BottomLeft,fromHere:n.Sides.TopLeft},{fromNeighbor:n.Sides.BottomRight,fromHere:n.Sides.TopRight}];break;case n.Sides.TopRight:e=[{fromNeighbor:n.Sides.TopLeft,fromHere:n.Sides.Top},{fromNeighbor:n.Sides.Bottom,fromHere:n.Sides.BottomRight}];break;case n.Sides.BottomRight:e=[{fromNeighbor:n.Sides.Top,fromHere:n.Sides.TopRight},{fromNeighbor:n.Sides.BottomLeft,fromHere:n.Sides.Bottom}];break;case n.Sides.Bottom:e=[{fromNeighbor:n.Sides.TopRight,fromHere:n.Sides.BottomRight},{fromNeighbor:n.Sides.TopLeft,fromHere:n.Sides.BottomLeft}];break;case n.Sides.BottomLeft:e=[{fromNeighbor:n.Sides.BottomRight,fromHere:n.Sides.Bottom},{fromNeighbor:n.Sides.Top,fromHere:n.Sides.TopLeft}];break;case n.Sides.TopLeft:e=[{fromNeighbor:n.Sides.Bottom,fromHere:n.Sides.BottomLeft},{fromNeighbor:n.Sides.TopRight,fromHere:n.Sides.Top}];break;default:throw new Error("Unknown neighbor side "+t)}return e},o.prototype.getNeighbors=function(){var t=[this.neighbors.top,this.neighbors.topRight,this.neighbors.bottomRight,this.neighbors.bottom,this.neighbors.bottomLeft,this.neighbors.topLeft];return t},o.prototype.getNeighbor=function(t){var e;switch(t){case n.Sides.Top:e=this.neighbors.top;break;case n.Sides.TopRight:e=this.neighbors.topRight;break;case n.Sides.BottomRight:e=this.neighbors.bottomRight;break;case n.Sides.Bottom:e=this.neighbors.bottom;break;case n.Sides.BottomLeft:e=this.neighbors.bottomLeft;break;case n.Sides.TopLeft:e=this.neighbors.topLeft;break;default:throw new Error("Unknown neighbor side "+t)}return e},o.prototype.setNeighbor=function(t,e){switch(t){case n.Sides.Top:this.neighbors.top=e;break;case n.Sides.TopRight:this.neighbors.topRight=e;break;case n.Sides.BottomRight:this.neighbors.bottomRight=e;break;case n.Sides.Bottom:this.neighbors.bottom=e;break;case n.Sides.BottomLeft:this.neighbors.bottomLeft=e;break;case n.Sides.TopLeft:this.neighbors.topLeft=e;break;default:throw new Error("Unknown direction "+t)}},e.exports=o},{"../utils/random.js":23,"./hexagon.js":12}],12:[function(t,e,i){function o(){this.points={topLeft:null,topRight:null,right:null,bottomRight:null,bottomLeft:null,left:null},this.lines={top:null,topRight:null,bottomRight:null,bottom:null,bottomLeft:null,topLeft:null}}var n=t("./corner.js"),r=t("./cornerpoint.js"),s=t("./side.js"),h=t("./line.js"),a=t("./sideline.js"),c=6;o.Corners={TopLeft:new n("top left",120),TopRight:new n("top right",60),Right:new n("right",0),BottomRight:new n("bottom right",300),BottomLeft:new n("bottom left",240),Left:new n("left",180)},Object.keys(o.Corners).forEach(function(t){var e=o.Corners[t];e.rad=(e.rotation+60)/180%360*Math.PI}),o.Corners.next=function(t){var e;switch(t){case o.Corners.TopLeft:e=o.Corners.TopRight;break;case o.Corners.TopRight:e=o.Corners.Right;break;case o.Corners.Right:e=o.Corners.BottomRight;break;case o.Corners.BottomRight:e=o.Corners.BottomLeft;break;case o.Corners.BottomLeft:e=o.Corners.Left;break;case o.Corners.Left:e=o.Corners.TopLeft;break;default:throw new Error("Unknown start corner "+t)}return e},o.Corners.opposite=function(t){var e;switch(t){case o.Corners.TopLeft:e=o.Corners.BottomRight;break;case o.Corners.TopRight:e=o.Corners.BottomLeft;break;case o.Corners.Right:e=o.Corners.Left;break;case o.Corners.BottomRight:e=o.Corners.TopLeft;break;case o.Corners.BottomLeft:e=o.Corners.TopRight;break;case o.Corners.Left:e=o.Corners.Right;break;default:throw new Error("Unknown start corner "+t)}return e},o.Corners.connecting=function(t){var e;switch(t){case o.Corners.TopLeft:e=[o.Corners.Right,o.Corners.BottomLeft];break;case o.Corners.TopRight:e=[o.Corners.BottomRight,o.Corners.Left];break;case o.Corners.Right:e=[o.Corners.BottomLeft,o.Corners.TopLeft];break;case o.Corners.BottomRight:e=[o.Corners.Left,o.Corners.TopRight];break;case o.Corners.BottomLeft:e=[o.Corners.Right,o.Corners.TopLeft];break;case o.Corners.Left:e=[o.Corners.BottomRight,o.Corners.TopRight];break;default:throw new Error("Unknown start corner "+t)}return e},o.Sides={Top:new s("top",o.Corners.TopLeft,o.Corners.TopRight),TopRight:new s("top right",o.Corners.TopRight,o.Corners.Right),BottomRight:new s("bottom right",o.Corners.Right,o.Corners.BottomRight),Bottom:new s("bottom",o.Corners.BottomRight,o.Corners.BottomLeft),BottomLeft:new s("bottom left",o.Corners.BottomLeft,o.Corners.Left),TopLeft:new s("top left",o.Corners.Left,o.Corners.TopLeft)},o.Sides.all=function(){return[o.Sides.Top,o.Sides.TopRight,o.Sides.BottomRight,o.Sides.Bottom,o.Sides.BottomLeft,o.Sides.TopLeft]},o.Sides.next=function(t){var e;switch(t){case o.Sides.Top:e=o.Sides.TopRight;break;case o.Sides.TopRight:e=o.Sides.BottomRight;break;case o.Sides.BottomRight:e=o.Sides.Bottom;break;case o.Sides.Bottom:e=o.Sides.BottomLeft;break;case o.Sides.BottomLeft:e=o.Sides.TopLeft;break;case o.Sides.TopLeft:e=o.Sides.Top;break;default:throw new Error("Unknown start side "+t)}return e},o.Sides.opposite=function(t){var e;switch(t){case o.Sides.Top:e=o.Sides.Bottom;break;case o.Sides.TopRight:e=o.Sides.BottomLeft;break;case o.Sides.BottomRight:e=o.Sides.TopLeft;break;case o.Sides.Bottom:e=o.Sides.Top;break;case o.Sides.BottomLeft:e=o.Sides.TopRight;break;case o.Sides.TopLeft:e=o.Sides.BottomRight;break;default:throw new Error("Unknown start side "+t)}return e},o.Sides.fromCorner=function(t){var e;switch(t){case o.Corners.TopLeft:e=o.Sides.Top;break;case o.Corners.TopRight:e=o.Sides.TopRight;break;case o.Corners.Right:e=o.Sides.BottomRight;break;case o.Corners.BottomRight:e=o.Sides.Bottom;break;case o.Corners.BottomLeft:e=o.Sides.BottomLeft;break;case o.Corners.Left:e=o.Sides.TopLeft;break;default:throw new Error("Unknown start side "+t)}return e},o.prototype.getLineThroughMiddle=function(){var t,e=this;return this.cornerPoints().slice(0,2).some(function(i){var n=!!i&&o.Corners.opposite(i.corner),r=!!n&&e.getCornerPoint(n);return t=r&&new h(i.point,r.point),t?!0:!1}),t||null},o.prototype.getCenter=function(){var t=this.getLineThroughMiddle(),e=t&&t.center();return e||null},o.prototype.getCacheKey=function(){var t=this.getCenter(),e=t&&t.cacheKey;return e||null},o.prototype.cornerCount=function(){var t=this.cornerPoints().reduce(function(t,e){return t+(e?1:0)},0);return t},o.prototype.isComplete=function(){return this.cornerCount()===c},o.prototype.cornerPoints=function(){return[this.points.topLeft,this.points.topRight,this.points.right,this.points.bottomRight,this.points.bottomLeft,this.points.left]},o.prototype.getCornerPoint=function(t){var e=null;return this.cornerPoints().some(function(i){return i.corner.rotation===t.rotation?(e=i,!0):!1}),e},o.prototype.setCornerPoint=function(t,e){var i=new r(t,e);switch(t){case o.Corners.TopLeft:this.points.topLeft=i;break;case o.Corners.TopRight:this.points.topRight=i;break;case o.Corners.Right:this.points.right=i;break;case o.Corners.BottomRight:this.points.bottomRight=i;break;case o.Corners.BottomLeft:this.points.bottomLeft=i;break;case o.Corners.Left:this.points.left=i;break;default:throw new Error("Unknown corner "+t)}},o.prototype.sideCount=function(){var t=this.sideLines().reduce(function(t,e){return t+(void 0===e?0:1)},0);return t},o.prototype.sideLines=function(){return[this.lines.top,this.lines.topRight,this.lines.bottomRight,this.lines.bottom,this.lines.bottomLeft,this.lines.topLeft]},o.prototype.getSideLine=function(t){var e=null;return this.sideLines().some(function(i){return i.side.getRotation()===t.getRotation()?(e=i,!0):!1}),e},o.prototype.setSideLine=function(t,e){var i=new a(t,e);switch(t){case o.Sides.Top:this.lines.top=i;break;case o.Sides.TopRight:this.lines.topRight=i;break;case o.Sides.BottomRight:this.lines.bottomRight=i;break;case o.Sides.Bottom:this.lines.bottom=i;break;case o.Sides.BottomLeft:this.lines.bottomLeft=i;break;case o.Sides.TopLeft:this.lines.topLeft=i;break;default:throw new Error("Unknown side "+t)}},e.exports=o},{"./corner.js":9,"./cornerpoint.js":10,"./line.js":13,"./side.js":15,"./sideline.js":16}],13:[function(t,e,i){function o(t,e){return this.start=t,this.end=e,this.cacheKey=this._getCacheKey(),this.__center=null,this}var n=t("./point.js");o.prototype._getCacheKey=function(){var t,e=this.start.cacheKey,i=this.end.cacheKey;return t=i>e?e+"-"+i:i+"-"+e},o.prototype._center=function(){var t=(this.start.x+this.end.x)/2,e=(this.start.y+this.end.y)/2,i=new n(t,e);return i},o.prototype.center=function(){return this.__center||(this.__center=this._center())},e.exports=o},{"./point.js":14}],14:[function(t,e,i){function o(t,e){return this.x=t,this.y=e,this.cacheKey=this._getCacheKey(),this}o.prototype._getCacheKey=function(){var t=this.x.toFixed(3),e=this.y.toFixed(3),i=t+", "+e;return i},e.exports=o},{}],15:[function(t,e,i){function o(t,e,i){return this.name=t,this.start=e,this.end=i,this}o.prototype.getRotation=function(){var t,e,i=this.start.rotation,o=this.end.rotation;return i>o&&(t=i,i=o,o=t),e=(i+(o-i)/2)%360,o-i>180&&(e+=180),e},e.exports=o},{}],16:[function(t,e,i){function o(t,e){return this.side=t,this.line=e,this}e.exports=o},{}],17:[function(t,e,i){function o(t,e){var i=function(){setTimeout(t.bind(null),e)};return i}e.exports=o},{}],18:[function(t,e,i){function o(t,e){var i=Math.pow(n,e),o=Math.round(t*i)/i;return o}var n=10;e.exports=o},{}],19:[function(t,e,i){function o(t){var e={target:null},i=function(t){e.target=t.target},o=function(t){e.target!==t.target&&r(),e.target=null},r=n(function(){document.removeEventListener("touchmove",i),document.removeEventListener("mousemove",o),t.call(null)});document.addEventListener("touchmove",i),document.addEventListener("mousemove",o)}var n=t("./once.js");e.exports=o},{"./once.js":20}],20:[function(t,e,i){function o(t){var e=!1,i=function(){e||(e=!0,t.call(null))};return i}e.exports=o},{}],21:[function(t,e,i){function o(t){var e=!1,i=function(){e||(e=!0,t.call(null),e=!1)};return i}e.exports=o},{}],22:[function(t,e,i){function o(t,e){var i=function(){var i;return console&&console.timeline&&console.timeline(t),console&&console.profile&&console.profile(t),i=e.call(null),console&&console.timelineEnd&&console.timelineEnd(),console&&console.profileEnd&&console.profileEnd(),i};return i}var n={wrap:o};e.exports=n},{}],23:[function(t,e,i){function o(t,e){void 0===e&&(e=t,t=0);var i=Math.random(),o=t+i*e;return o}function n(t,e){var i=o(t,e),n=Math.floor(i);return n}var r={floatingPoint:o,integer:n};e.exports=r},{}],24:[function(t,e,i){function o(t,e){var i=0;window.addEventListener("resize",function(){return t?i!==t.scrollWidth?(i=t.scrollWidth,void e.call(null)):void 0:void e.call(null)})}e.exports=o},{}]},{},[1]);